PROBLEM 4c: TC Execution task, start TC buffering, LSB

Rationale

   For the general rationale see problem 4a.

   This analysis problem addresses the special case when the SW has
   started to receive and buffer a multi-word TC (a memory-patching TC).
   In this mode, the TC Execution task has a deadline of 10 ms (instead
   of the 1 s for other modes). Problem 4b covered the processing of the
   first word of a multi-word TC, which chooses between data and code
   memory and carries the MSB of the patch address. This Problem 4c
   covers the second word, which carries the LSB of the patch address.
   Problem 4d covers the third and following words, which carry the
   patch data.

   The main input is the TC command word that was received and accepted
   by the TC interrupt service routine. This input is set by the call of
   WaitMail at the start of HandleTelecommand. The second word of a
   multi-word TC has, as the TC code, either WRITE_CODE_MEMORY_LSB or
   WRITE_DATA_MEMORY_LSB.

Subprogram

   HandleTelecommand

Inputs

   GetMode
      A function that returns the master DEBIE mode.
      Any value in the return type. (Multi-word telecommands are
      accepted and executed only in the STAND_BY mode, but the 10 ms
      deadline applies for such TCs in other modes, too.)

   memory_type
      A statically allocated variable that shows whether the multi-word TC
      is a patch to code memory (code_e) or to data memory (data_e).
      Either value is possible.

   received_command.TC_word
      A statically allocated buffer for the received TC word. Undefined
      before the call of WaitMail; then a word that contains either
      WRITE_CODE_MEMORY_LSB or WRITE_DATA_MEMORY_LSB as the "TC code"
      part (bits 15..9). In nominal operation, the TC-code shall match
      the value of the memory_type variable, but this problem allows a
      mismatch, too.

   TC_state
      A global state variable.
      Has the value write_memory_e (set by the first TC word of the
      multi-word TC).

   TC_mail
      A statically allocated structure that holds status flags and a
      pointer to received_command.TC_word. The status flags are set by
      the call of WaitMail. Any values are possible.

Other constraints

   As in Problem 4a.

Path-analysis results to be reported

   None.

WCET-analysis results to be reported

   WCET of HandleTelecommand

