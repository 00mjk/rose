------------------------------------------------------------
SATIrE: Static Analysis Tool Integration Engine
------------------------------------------------------------

SATIrE integrates static analysis tools into existing compiler
infrastructures.  Currently the focus is on integration of AbsInt's
Program Analysis Generator (PAG) into C/C++ infrastructures 
that provide an abstract syntax tree. The infrastructure that 
is fully supported is the C/C++ infrastructure LLNL-ROSE.

SATIrE 0.7.0 was tested with 
 - ROSE 0.8.8a (requires g++ 3.3-5.x)
 - PAG 0.9.7.843
 - bison 1.875d
 - flex 2.5.31
 - g++ 3.5.5

------------------------------------------------------------
(1) INSTALLATION
------------------------------------------------------------

 a) Before you can install SATIrE
    i)  you must install LLNL-ROSE - http://www.llnl.gov/casc/rose/
    ii) you must install PAG - http://www.absint.com/pag/

 b) After installation of LLNL-ROSE and PAG set the following 
    environment variables:

    - ROSE_INCLUDE (the include directory of installed LLNL-ROSE)
    - ROSE_LIB (the lib directory of installed LLNL-ROSE)
    - PAGDIR (the directory of installed PAG)

 c) Unpack the satire tar-ball with:
    tar xvzf SATIrE-0.7.0

 d) Go to the satire directory:
    cd SATIrE-0.7.0

 e) Perform the following operations with make:
    run 'make' for compiling all SATIrE modules and analyzers (ROSE must be installed)

    run 'make check' for running several tests (PAG and ROSE, must be installed)

    run 'INSTALL_PREFIX=<my_install_prefix> make install
        where <my_install_prefix> is your directory path in which the directories
        'include', 'lib', 'bin' will be created.

        examples:
          INSTALL_PREFIX=/usr/local/ make install
          INSTALL_PREFIX=~/satire_install make install

        Note, you must use an absolute path for INSTALL_PREFIX!
    
    Now you are ready to specify, compile, and run an anlysis.

------------------------------------------------------------
(2) RUNNING AN EXAMPLE ANALYSIS THAT COMES WITH SATIrE
------------------------------------------------------------

 a) Ensure that the following environment variables are set:
    ROSE_INCLUDE (the include directory of installed ROSE)
    ROSE_LIB (the lib directory of installed ROSE)
    PAGDIR (the directory of installed PAG)

 b) We chose the example sl1rd:
    [let's assume that you unpacked SATIrE-0.7.0.tgz in your home directory]
    cd SATORE-0.7.0/examples [go to the examples directory]
    make                     [generate all required files in each analysis-dir]
    cd sl1rd                 [go to the direcotry of analysis sl1rd]
    make                     [compile the analyzer sl1rd]
    sl1rd tests/rdtest1.C    [run the analyzer with test file rdtest1.C]

------------------------------------------------------------
(3) GETTING STARTED WITH AN ANALYSIS THAT COMES WITH SATIrE
------------------------------------------------------------

 a) Ensure that SATIrE's <INSTALL_PREFIX>/bin is in your environment variable path.

 b) Ensure that the following environment variables are set:
    ROSE_INCLUDE (the include directory of installed ROSE)
    ROSE_LIB (the lib directory of installed ROSE)
    PAGDIR (the directory of installed PAG)
    SATIRE_INCLUDE (the include directory of installed SATIRE)
    SATIRE_LIB (the lib directory of installed SATIRE)

 c) We chose the example sl1rd:
    [let's assume that you unpacked SATIrE-0.7.0.tgz in your home directory]
    make clean -C ~/SATIrE-0.7.0/examples [remove all generated files]
    cp -r ~/SATIrE-0.7.0/examples/sl1rd . [copy all files and test files to your directory]
    newanalysis sl1rd VarLabPairSetLifted [generate and configure all required files]
    cd sl1rd                              [change to the directory]
    make                                  [compile the analyzer (links ROSE,PAG,SATIrE files)]
    sl1rd --help                          [prints an overview of the available options]
    sl1rd tests/rdtest1.C                 [run the analyzer on the test file 'rdtest1.C']
    aisee sl1rd_result.gdl                [view the analysis result with aisee]
    

------------------------------------------------------------
(4) CRAFTING A NEW ANALYSIS
------------------------------------------------------------

 a) Ensure that <INSTALL_PREFIX>/bin is in your environment variable path.

 b) Ensure that the following environment variables are set:
    ROSE_INCLUDE (the include directory of installed ROSE)
    ROSE_LIB (the lib directory of installed ROSE)
    PAGDIR (the directory of installed PAG)
    SATIRE_INCLUDE (the include directory of installed SATIRE)
    SATIRE_LIB (the lib directory of installed SATIRE)

 c) Run 'newanalysis <ANALYSIS_NAME> <CARRIER_TYPE>' to create an analysis of 
    name <ANALYSIS_NAME> with a carrier type <CARRIER_TYPE>. This command
    creates a directory of name <ANALYSIS_NAME> and copies&configers several
    files into that directory. (you can rerun newanalysis if you have not
    decided on the name of the carrier-type yet later again)

 d) cd <ANALYSIS_NAME>

 e) Implement <ANALYSIS_NAME>.optla and <ANALYSIS_NAME>.set

 f) Run 'make' to compile your analyzer

 g) Run your analyzer '<ANALYSIS_NAME> <INPUTFILE>'. The input file is a
    C/C++ source file and the executable analyzer has the name <ANALYSIS_NAME>.
    This will generate a file '<ANALYSIS_NAME>_result.gdl' which can be
    viewed with the tool aiSee.

    Note, the command 'newanalysis' never modifies *.set or *.optla files
    but does overwrite Makefile, main.C, main-support.C in the directory 
    <ANALYSIS_NAME>, according to the parameters of the command.


------------------------------------------------------------
(5) FURTHER INFORMATION & CONTACT
------------------------------------------------------------
  
 a) Documentation that comes with the distribution can be found
    in the directory 'docs'.
    A document that describes the overall picture, design, and philosophy
    behind SATIrE is in preparation but not included yet.
    
 b) On the web information can be found at:
    http://www.complang.tuwien.ac.at/markus/satire

 c) For questions, feedback, bug reports, or suggestions on SATIrE send
    email to: markus@complang.tuwien.ac.at
