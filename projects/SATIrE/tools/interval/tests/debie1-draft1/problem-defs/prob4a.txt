PROBLEM 4a: TC Execution task, general case

Rationale

   Each received telecommand is first received and checked by the TC ISR
   and then executed (or buffered) by the Telecommand Execution task (TC
   Execution task, for short). The specified deadline for this task is
   normally 1 second, but when a multi-word TC is being received and
   buffered the task must finish its job (buffering) within 10 ms.

   This analysis problem addresses the general case: any telecommand,
   in any state.


Subprogram

   HandleTelecommand

Inputs

   The main input is the TC command word that was received and accepted
   by the TC interrupt service routine. This input is set by the call of
   WaitMail at the start of HandleTelecommand.

   GetMode
      A function that returns the master DEBIE mode.
      Any value in the return type.

   memory_buffer_index
      A statically allocated variable that shows the next free location
      in the multi-word TC buffer.
      Any value 0 .. MEM_BUFFER_SIZE.

   previous_TC
      A statically allocated variable that holds the preceding
      executed TC word, both as a full word (TC_word) and split
      into the TC_address (bits 15 .. 9 of the TC_word) and the
      TC_code (bits 7 .. 0 of the TC_word). (Bit 8 of the TC_word
      is the parity bit.)
      Any value can be assumed.

   received_command.TC_word
      A statically allocated buffer for the received TC word. Undefined
      before the call of WaitMail; then any 16-bit value. (There are
      correlations between the possible values of
      received_command.TC_word and the value of the TC_state variable,
      but they can be ignored for WCET analysis.)

   SU_state[]
      Statically allocated state variable indexed by SU number.
      Any value in its type (SU_state_t).

   TC_state
      A global state variable.
      Any value in the enumeration TC_state_t.

   TC_mail
      A statically allocated structure that holds status flags and a
      pointer to received_command.TC_word. The status flags are set by
      the call of WaitMail. Any values are possible.

Other constraints

   The function InitTelecommandTask has been executed once before the
   activation of HandleTelecommand that is to be analysed. However,
   other functions, including other activations of HandleTelecommand,
   may have executed after InitTelecommandTask and before the
   activation, to be analysed, of HandleTelecommand.

Path-analysis results to be reported

   Upper bound on the number of executions of the SET_DATA_BYTE macro,
   assuming that the function that this macro calls (Set_Data_Byte in
   harness.c) has an arbitrarily large execution time.

WCET-analysis results to be reported

   WCET of HandleTelecommand

