# Test configuration file (see "scripts/rth_run.pl --help" for details)

title = ${TITLE}
disabled = ${DISABLED}
subdir = yes

# This is the main command we're testing
cmd = ${VALGRIND} ${blddir}/injectSnippet \
      --test:snippet=${SNIPPET}\
      --test:ipoint-function=${IPOINT} \
      --test:insert-mechanism=${INSERT_MECHANISM} \
      --test:locdecls-position=${LOCDECLS_POSITION} \
      --test:recursive=${RECURSIVE_INSERTION} \
      --test:copy-definitions=${COPY_DEFINITIONS} \
      -rose:skipfinalCompileStep ${srcdir}/${SPECIMEN}

# Indent ROSE's output to be more readable if "indent" works.
cmd = indent <rose_${SPECIMEN} >${SPECIMEN} || cp rose_${SPECIMEN} ${SPECIMEN}

# Show the resulting source code and make sure it compiles
cmd = cat -n ${SPECIMEN}
cmd = gcc ${SPECIMEN}
