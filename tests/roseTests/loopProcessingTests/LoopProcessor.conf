# ROSE test harness configuration for LoopProcessor. See $ROSE/scripts/rth_run.pl --help

# Each test needs to run in its own directory when running in parallel because the test depends on the rose_* output
# file where "*" is the base name of the ${INPUT} file.  Some of the tests use the same input file and therefore produce
# conflicting output files.

cmd = mkdir -p ${TARGET}.wrk
cmd = cd ${TARGET}.wrk && ../LoopProcessor --edg:no_warnings -w ${SWITCHES} -I${srcdir} ${srcdir}/${INPUT}
cmd = cd ${TARGET}.wrk && diff -u rose_${INPUT} ${srcdir}/${ANSWER}
