include $(top_srcdir)/config/Makefile.for.ROSE.includes.and.libs

# To keep compile commands tidy, please ONLY put required include flags here.
INCLUDES = $(ROSE_INCLUDES)

# an better alternative to identityTranslator
# Liao 1/29/2009
bin_PROGRAMS = roseCompiler

roseCompiler_SOURCES = roseCompiler.C

# Example translator to help make code as part of questions
# exampleTranslator_SOURCES = exampleTranslator.C

# roseCompiler_DEPENDENCIES = $(REQUIRED_LIBS)
# roseCompiler_LDADD  = $(LIBS_WITH_RPATH) $(ROSE_LIBS)
DEPENDENCIES = $(REQUIRED_LIBS)
LDADD  = $(LIBS_WITH_RPATH) $(ROSE_LIBS)

# The bug numbers come from ROSE's SciDAC bug trackers
noinst_PROGRAMS = \
       bug125 \
       qualifiedName

bug125_SOURCES = bug125.C
qualifiedName_SOURCES = qualifiedName.C

LDADD = $(LIBS_WITH_RPATH) $(ROSE_SEPARATE_LIBS)

VALGRIND_OPTIONS = --tool=memcheck -v --num-callers=30 --leak-check=no --error-limit=no --show-reachable=yes

VALGRIND =

testbug125:bug125 
	./bug125 -c $(srcdir)/inputbug125.C

testqualifiedName: qualifiedName
	./qualifiedName -c $(top_srcdir)/projects/autoTuning/tests/jacobi.c

EXTRA_DIST = CMakeLists.txt inputbug125.C

check-local:
	@$(MAKE) testbug125 testqualifiedName

distclean-local:
	rm -rf Makefile

clean-local:
	rm -rf *.o *.ps *.pdf *.dot rose_*.C rose_*.c core *.int.c *.ti a.out roseTestProgram.C

cleandata:
	rm -f *.ti *.ii rose_*.C rose_*.c *.dot test*.o rose_*.o

